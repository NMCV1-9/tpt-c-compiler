char data_string[] = "aaronaboutaboveabuseacidsacresactoracuteadamsaddedadminadmitadobeadoptadultafteragainagentagingagreeaheadaimedalarmalbumalertaliasalicealienalignalikealiveallahallanallenallowalloyalonealongalphaalteramberamendaminoamongangelangerangleangryanimeannexannieapartapnicappleapplyaprilarborareasarenaarguearisearmedarmorarrayarrowarubaasciiasianasideaskedassetatlasaudioauditautosavoidawardawareawfulbabesbaconbadgebadlybakerballsbandsbanksbarrybasedbasesbasicbasinbasisbatchbathsbeachbeadsbeansbearsbeastbeatsbeganbeginbegunbeingbellebellybelowbeltsbenchberrybettybiblebikesbillsbillybingobirdsbirthbisonblackbladeblairblakeblameblankblastblendblessblindblinkblockblogsblondbloodbloombluesboardboatsbobbybondsbonesbonusboobsbooksboostboothbootsbootyboredboundboxedboxesbrainbrakebrandbrassbravebreadbreakbreedbrianbrickbridebriefbringbroadbrokebrookbrownbrucebrushbryanbucksbuddybuildbuiltbunchbunnyburkeburnsburstbusesbustybuttsbuyerbytescabincablecachecakescallscamelcampscanalcandycanoncardscareycargocarlocarolcarrycasescaseycasiocatchcausecedarcellscentschainchairchaoscharmchartchasecheapcheatcheckchesschestchevychickchiefchildchilechinachipschoirchosechrischuckcindyciscocitedciviccivilclaimclaraclarkclasscleanclearclerkclickcliffclimbclipsclockclonecloseclothcloudclubscoachcoastcockscodescohencoinscolincoloncolorcombocomescomiccondocongoconstcoralcorpscostacostscouldcountcourtcovercrackcraftcraigcrapscrashcrazycreamcreekcrestcrimecropscrosscrowdcrowncrudecubiccurvecybercycleczechdaddydailydairydaisydancedannydateddatesdaviddavisdealsdealtdeathdebugdebutdecordelaydelhideltadensedepotdepthderbyderekdeveldevildevondianadianediarydickedicksdiegodiffsdigitdildodirtydiscodiscsdisksdodgedoingdollsdonnadonordoorsdoubtdoverdozendraftdraindramadrawndrawsdreamdressdrieddrilldrinkdrivedropsdrovedrugsdrumsdrunkdryerdubaidutchdyingdylaneagleearlyearthebonyebookeddieedgaredgesegypteightelderelecteliteellenelliselvisemacsemailemilyemptyendedendifenemyenjoyenterentryepsonequalerroressayessexeurosevanseventeveryexactexamsexcelexistextrafacedfacesfactsfailsfairyfaithfallsfalsefancyfaresfarmsfatalfattyfaultfavorfearsfeedsfeelsfenceferryfeverfewerfiberfibrefieldfifthfiftyfightfiledfilesfilmefilmsfinalfindsfiredfiresfirmsfirstfixedfixesflagsflameflashfleetfleshfloatfloodfloorflourflowsfloydfluidflushflyerfocalfocusfolksfontsfoodsforceforgeformsforthfortyforumfotosfoundframefrankfraudfreshfrontfrostfruitfullyfundsfunkyfunnyfuzzygainsgamesgammagatesgaugegenesgenreghanaghostgiantgiftsgirlsgivengivesglassglennglobeglorygnomegoalsgoinggonnagoodsgottagracegradegraingramsgrandgrantgraphgrassgravegreatgreekgreengrillgrossgroupgrovegrowngrowsguardguessguestguideguildhairyhaitihandshandyhappyharryhavenhayesheadsheardheartheathheavyhelenhellohelpshencehenryherbshighshillshinduhintshiredhobbyholdsholeshollyhomeshondahoneyhonorhopedhopeshornyhorsehostshotelhourshousehowtohumanhumoriconsidahoidealideasimageinboxindexindiaindieinnerinputintelinterintroiraqiirishisaacislamissueitalyitemsivoryjacobjamesjamiejanetjapanjasonjeansjennyjerryjessejesusjeweljimmyjohnsjoinsjointjokesjonesjoycejudgejuicejuliajuliekarenkarmakathykatiekeepskeithkellykennykenyakerrykevinkillskindakindskingskittykleinknifeknockknownknowskodakkorealabellaborladenlakeslampslancelandslaneslankalargelarrylaserlaterlatexlatinlaughlauralayerleadslearnleaseleastleaveleedslegallemonleonelevellewislexuslightlikedlikeslimitlindalinedlineslinkslinuxlionslistslivedliverliveslloydloadsloanslobbylocallockslodgeloganlogicloginlogoslooksloopslooselopezlotuslouislovedloverloveslowerlucaslucialuckylunchlycoslyinglyricmacromagicmailsmainemajormakermakesmalesmaltamambomangamanormaplemarchmarcomardimariamariemariomarksmarshmasonmatchmaybemayormazdamealsmeansmeantmedalmediameetsmenusmercymergemeritmerrymetalmetermetromeyermiamimicromightmilanmilesmilfsmillsmindsminesminorminusmixedmixermodelmodemmodesmoneymontemonthmooremoralmosesmotelmotormountmousemouthmovedmovesmoviempegsmsgidmultimusicmyersmysqlnailsnakednamednamesnancynastynavalneedsnepalnervenevernewernewlynigernightnikonnoblenodesnoisenokianorthnotednotesnotrenovelnursenylonoasisoccuroceanofferoftenolderoliveomahaomegaonionopensoperaorbitorderorganoscarotheroughtouterownedowneroxideozonepackspagespaintpairspanelpanicpantspaperpapuaparisparkspartspartypastapastepatchpathspatiopaxilpeacepearlpeerspenalpennyperryperthpeterphasephonephotophpbbpianopickspiecepillspilotpipespitchpixelpizzaplaceplainplaneplansplantplateplaysplazaplotspoemspointpokerpolarpollspoolspornoportspostspoundpowerpresspriceprideprimeprintpriorprizeprobepromoproofproudproveproxypulsepumpspunchpuppypursepussyqatarqueenqueryquestqueuequickquietquiltquitequoteracesracksradarradioraiserallyralphranchrandyrangeranksrapidratedratesratioreachreadsreadyrealmrebelreferrehabrelaxrelayremixrenewreplyresetretrorhoderickyriderridesridgerightringsrisksriverroadsrobinrobotrocksrockyrogerrolesrollsromanroomsrootsrosesrougeroughroundrouteroverroyalrugbyruledrulesruralsafersagemsaintsaladsalemsalessallysalonsambasamoasandysantasanyosarahsatinsaucesaudisavedsaversavessbjctscalescaryscenescoopscopescorescottscoutscrewscubaseatsseedsseeksseemssellssendssenseserumservesetupsevenshadeshaftshakeshallshameshapesharesharksharpsheepsheersheetshelfshellshiftshineshipsshirtshockshoesshootshopsshoreshortshotsshownshowssidessightsigmasignssillysimonsincesinghsitessixthsizedsizesskillskinsskirtskypeslavesleepslideslopeslotsslutssmallsmartsmellsmilesmithsmokesnakesockssolarsolidsolvesongssonicsorrysortssoulssoundsouthspacespainspanksparcsparespeakspecsspeedspellspendspentspermspicespiesspinesplitspokesportspotsspraysquadstackstaffstagestakestampstandstarsstartstatestatsstaysstealsteamsteelstepsstevestickstillstockstonestoodstopsstorestormstorystrapstripstuckstudystuffstylesuckssudansugarsuitesuitssunnysupersurgesusansweetswiftswingswissswordsyriatabletahoetakentakestalestalkstamiltampatankstapestaskstastetaxesteachteamstearsteddyteensteethtellstermsterryteststexastextsthankthatsthefttheirthemetherethesethetathickthingthinkthirdthongthosethreethrowthumbtigertighttilestimertimestionstiredtirestitletodaytokentokyotommytonertonestoolstoothtopictotaltouchtoughtourstowertownstoxictracetracktracttracytradetrailtraintranstrashtreattreestrendtrialtribetricktriedtriestripstrouttrucktrulytrunktrusttruthtubestulsatumortunertunesturboturnstwicetwikitwinstwisttylertypesultrauncleunderunionunitsunityuntilupperupseturbanusageusersusingusualutilsvalidvaluevalvevaultvegasvenueverdeversevideoviewsvillavinylviralvirusvisitvistavitalvocalvoicevolvovotedvotesvsnetwageswagonwaleswalkswallswannawantswastewatchwaterwattswaveswayneweeksweirdwellswelshwendywhalewhatswheatwheelwherewhichwhilewhitewholewhorewhosewiderwidthwileywindswineswingswiredwireswitchwiveswomanwomenwoodswordsworksworldworryworseworstworthwouldwoundwristwritewrongwrotexanaxxeroxxhtmlyachtyahooyardsyearsyeastyemenyieldyoungyoursyouthyukonzebrazones";
int letter_boundaries[] = {0, 79, 187, 298, 368, 408, 487, 534, 577, 599, 622, 645, 717, 794, 821, 844, 923, 933, 993, 1169, 1273, 1288, 1311, 1366, 1369, 1380, 1382}

char __scan_signed_int(int *num);
int __scan_char_array(char *str);
/*
void fancy_print(char * string, ...) {
    register char c;
    register int arg_index = 0;
    register char *str = string;
    while(c = *str) {
        if(c == '%'){
            switch(*(++str)) {
                case 'd':
                    __print_signed_int(((int*)va_args)[arg_index++]);
                    break;
                case 's':
                    __print_char_array(((char**)va_args)[arg_index++]);
                    break;
                case 'c':
                    putchar(((char*)va_args)[arg_index++]);
                    break;
                case 'u':
                    __print_unsigned_int(((int*)va_args)[arg_index++]);
                    break;
                default:
                    set_colour((*(str) - '0') * 16 + (*(++str) - '0'));
                    break;
            }
        }else{
            putchar(c);
        }
        str++;
    }
}



int fscanf(char *format, ...) {
    register char c;
    register char *ptr = format;
    register int arg_index = 0;
    while(*ptr) {
        if(*ptr == '%') {
            switch(*(++ptr)) {
                case 'u':
                case 'd':
                    __scan_signed_int(((int**)va_args)[arg_index++]);
                    break;
                case 's':
                    __scan_char_array(((char**)va_args)[arg_index++]);
                    break;
                case 'c':
                    {
                    *((char**)va_args)[arg_index++] = getchar();
                    putchar(*((char**)va_args)[arg_index-1]);
                    }
            }
        }else{
            c = getchar();
            putchar(c);
            if(c != *ptr){
                break;
            }
        }
        ++ptr;
    }
    return (int)(ptr - format);
}*/

char __scan_signed_int(int *num) {
    register char c;
    register int res = 0;
    register int sign = 1;
    if((c = getchar()) == '-') {
        sign = -1;
    }else{
        sign = 1;
        res = c - '0';
    }
    putchar(c);
    while((c = getchar()) >= '0' && c <= '9') {
        putchar(c);
        res = res * 10 + (c - '0');
    }

    if(sign == -1) {
        res = -res;
    }

    *num = res;
    return c;
}

int __scan_char_array(char *str) {
    register char c;
    register char *ptr = str;
    while((c = getchar()) != '\n') {
        putchar(c);
        *(ptr++) = c;
    }
    
    *ptr = 0;

    return (int)(ptr - str);
}
/*
int strcmp(char *str1, char *str2) {
    register char *str1_ptr = str1;
    register char *str2_ptr = str2;
    for(register int i = 0; i < 4; ++i) {
        if(str1_ptr[i] == str2_ptr[i]) {
            continue;
        }else if(str1_ptr[i] < str2_ptr[i]){
            return -1;
        }else{
            return 1;
        }
    }

    return 0;
}*/

int is_letter_in_word(char letter, char *word) {
    register char *ptr = word;
    for(register int i = 0; i < 5; ++i) {
        if(word[i] == letter) {
            return 1;
        }
    }
    return 0;
}

void move_cursor(int x, int y) {
    set_cursor(0);
    for(register int k = 0; k < y; ++k) {
        putchar('\n');
    }
    for(register int l = 0; l < x; ++l) {
        putchar(' ');
    }
}

void clear_screen() {
    set_cursor(0);
    __print_char_array("                                                                                                ");
}

int main() {
    __print_char_array("Enter a\nnumber to\nhelp\nrandomize:\n(1-100): ");
    int mnum;
    __scan_signed_int(&mnum);
    register int num = mnum;
    num = ((num ^ (num << 5)) * 313);
    num = (num ^ (num >> 3)) & 1023;
    clear_screen();
    register char *word = data_string + num * 5;
    __print_char_array("Enter a word\n");
    
    /* Yellow == 06, Grey == 08, Green == 02 
    fancy_print("%00X%00X%00X%00X%00X%0?");*/
    char query[6];
    register int word_found = 0;
    for(register int i = 1;i < 6; ++i) {
    putchar(' ');
    putchar(' ');
    putchar(' ');
    query[0] = getchar();
    register int diff = *query - 'a';
    putchar(*query);
    register int l = letter_boundaries[diff];
    register int h = letter_boundaries[diff + 1] - 1;


    
    query[1] = getchar();
    putchar(query[1]);
    register int mid = (l + h) >> 1;
    register char mid_char = data_string[mid * 5 + 1];
    if(query[1] > mid_char) {
        l = mid + 1;
    } else if(query[1] < mid_char) {
        h = mid - 1;
    }
    






    __scan_char_array(query + 2);
    while(l <= h) {
        mid = (l + h) >> 1;
        register int result = 0;
        if(query[1] != data_string[mid * 5 + 1]) {
            result = query[1] - data_string[mid * 5 + 1];
        }else
        if(query[2] != data_string[mid * 5 + 2]) {
            result = query[2] - data_string[mid * 5 + 2];
        }else
        if(query[3] != data_string[mid * 5 + 3]) {
            result = query[3] - data_string[mid * 5 + 3];
        }else
        if(query[4] != data_string[mid * 5 + 4]) {
            result = query[4] - data_string[mid * 5 + 4];
        }

        if(result == 0) {
            move_cursor(3, i);
            register int cnt = 0;
            for(register int j = 0; j < 5; ++j) {
                if(word[j] == query[j]) {
                    ++cnt;
                    set_colour(2);
                    putchar(query[j]);
                }else if(is_letter_in_word(query[j], word)) {
                    set_colour(6);
                    putchar(query[j]);
                }else{
                    set_colour(8);
                    putchar(query[j]);
                }
            }
            set_colour(15);
            putchar('\n');
            if(cnt == 5) {
                __print_char_array("Correct!");
                word_found = 1;
            }
            break;
        }else if(result < 0) {
            h = mid - 1;
        } else {
            l = mid + 1;
        }
    }

    if(l > h) {
        move_cursor(3, i);
        __print_char_array("?????");
        move_cursor(0, i + 1);
    }
}

    if(!word_found) {
        __print_char_array("The word was\n");
        word[5] = 0;
        __print_char_array(word);
    }
    
}